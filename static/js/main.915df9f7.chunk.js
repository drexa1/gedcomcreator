(this.webpackJsonpgedcomcreator=this.webpackJsonpgedcomcreator||[]).push([[0],{106:function(e){e.exports=JSON.parse('{"header.h1":"Digitalice sus registros geneal\xf3gicos en un fichero familiar","header.p":"Gratuito (y lo ser\xe1 para siempre) hasta 50 familiares. Para m\xe1s de 50 familiares, 0.5\u20ac por pariente","instructions.h2":"Como funciona la herramienta","instructions.download.h3":"Descargar","instructions.download.p":"Descargue las plantillas para rellenar. Necesita: individuos, padres, y relaciones.","instructions.fill-in.h3":"Rellenar","instructions.fill-in.p":"Rellene las plantillas con la informaci\xf3n de los familiares. Consulte aqu\xed si tiene dudas.","instructions.collect.h3":"Recibir","instructions.collect.p":"Recoja su fichero familiar y visual\xedcelo en cualquier visor. \xbfNo conoce uno? Pruebe aqu\xed","instructions.templates.downloaded":"Revise su carpeta de descargas","instructions.templates.compressed":"Encontrar\xe1 las 3 plantillas dentro del archivo comprimido:","dropzone.p.drag-n-drop":"Arrastre aqu\xed las plantillas ya rellenadas, o ","dropzone.p.browse-them":"explore sus archivos","dropzone.p.files-needed":"Necesitaremos los 3 archivos","dropzone.button.browse-files":"Explorar archivos","dropzone.upload.invalid.filenames":"Estas no parecen ser nuestras plantillas: {filenames}","dropzone.upload.too.many":"Solo necesitamos nuestras 3 plantillas","dropzone.button.submit":"Enviar"}')},107:function(e){e.exports=JSON.parse('{"instructions.download.h3":"Pobierz"}')},108:function(e){e.exports=JSON.parse('{"templates.zip":"plantillas.zip","individuals.csv":"1-individuos.csv","parents.csv":"2-padres.csv","relationships.csv":"3-relaciones.csv","individuals.file.columns":"id_individuo, nombre, apellido1, apellido2, apodo, genero, fecha_nacimiento, lugar_nacimiento, notas","parents.file.columns":"id_individuo, id_padre, id_madre","relationships.file.columns":"id_marido, id_mujer, notas"}')},109:function(e){e.exports=JSON.parse('{"templates.zip":"templates.zip"}')},137:function(e,s,t){},139:function(e,s,t){"use strict";t.r(s);var a=t(99),i=t.n(a),n=t(0),r=t(151),o=t(154),l=t(53),c=t(148),d=t(100),u=t(101),p=t(3);var j=t(149),h=t(103);const f=e=>{let{direction:s,onClick:t,onMouseDown:a,onMouseUp:i,hidden:n}=e;const r="left"===s?"left-arrow":"right-arrow",o="left"===s?"M15 4l-8 20 8 20":"M9 4l8 20-8 20";return Object(p.jsx)("div",{className:`arrow ${r} ${n?"hidden":""}`,onClick:t,onMouseDown:a,onMouseUp:i,children:Object(p.jsx)("svg",{width:"80",height:"100%",viewBox:"0 0 24 48",children:Object(p.jsx)("path",{d:o,stroke:"lightgray",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})},m=e=>{let{currentIndex:s,totalCards:t}=e;return Object(p.jsxs)("div",{className:"carousel-content",children:[Object(p.jsxs)(o.a,{as:"h1",children:["Card ",s+1," Header"]}),Object(p.jsxs)("div",{className:"carousel-body",children:["This is the content of card ",s+1]}),Object(p.jsx)("div",{className:"dots-container",children:Array.from({length:t}).map(((e,t)=>Object(p.jsx)("span",{className:"dot "+(t===s?"active":"")},t)))})]})},b=Object(n.forwardRef)(((e,s)=>{const[t,a]=Object(n.useState)(!1),[i,r]=Object(n.useState)(!1),[o,l]=Object(n.useState)(0);Object(n.useEffect)((()=>{t&&l(0)}),[t]);const c=()=>{o<3&&l(o+1)},d=()=>{o>0&&l(o-1)},u=()=>r(!0),b=()=>r(!1),g=Object(h.a)({onSwipedLeft:c,onSwipedRight:d,preventScrollOnSwipe:!0,trackMouse:!0});return Object(n.useImperativeHandle)(s,(()=>({open:()=>a(!0)}))),Object(p.jsx)(j.a,{open:t,onClose:()=>a(!1),className:"instructions-popup",children:Object(p.jsxs)("div",{className:"carousel-wrapper",...g,children:[Object(p.jsx)(f,{direction:"left",onClick:d,onMouseDown:u,onMouseUp:b,hidden:0===o}),Object(p.jsx)(m,{currentIndex:o,totalCards:4}),Object(p.jsx)(f,{direction:"right",onClick:c,onMouseDown:u,onMouseUp:b,hidden:3===o})]})})})),g=Object(n.forwardRef)(((e,s)=>{let{showMessage:t,instructionsRef:a}=e;return Object(p.jsxs)("div",{className:"instructions-wrapper",ref:s,children:[Object(p.jsx)("h2",{children:Object(p.jsx)(c.a,{id:"instructions.h2",defaultMessage:"How the tool works"})}),Object(p.jsxs)("div",{className:"instructions-container",children:[Object(p.jsxs)("div",{className:"instruction-box",onClick:()=>(e=>{let{showMessage:s}=e;const{formatMessage:t}=Object(u.a)(),a=t({id:"templates.zip",defaultMessage:"templates.zip"}),i=`/gedcomcreator/templates/${$}/${a}`,n=t({id:"individuals.csv",defaultMessage:"1-individuals.csv"}),r=t({id:"parents.csv",defaultMessage:"2-parents.csv"}),o=t({id:"relationships.csv",defaultMessage:"3-relationships.csv"});fetch(i).then((e=>e.blob())).then((e=>{Object(d.saveAs)(e,a),s({type:"positive",header:Object(p.jsx)(c.a,{id:"instructions.templates.downloaded",defaultMessage:"Review your Downloads folder"}),text:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(c.a,{id:"instructions.templates.compressed",defaultMessage:"You will find the assets.templates in the compressed file:"}),"\xa0",Object(p.jsx)("span",{children:n}),",\xa0",Object(p.jsx)("span",{children:r}),",\xa0",Object(p.jsx)("span",{children:o})]})})})).catch((e=>console.error("Download failed:",e)))})({showMessage:t}),children:[Object(p.jsx)("h3",{children:Object(p.jsx)(c.a,{id:"instructions.download.h3",defaultMessage:"Download"})}),Object(p.jsx)("p",{children:Object(p.jsx)(c.a,{id:"instructions.download.p",defaultMessage:"Get here the assets.templates to fill-in. You need: individuals, parents, and relationships."})})]}),Object(p.jsxs)("div",{className:"instruction-box",onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.open()},children:[Object(p.jsx)("h3",{children:Object(p.jsx)(c.a,{id:"instructions.fill-in.h3",defaultMessage:"Fill-in"})}),Object(p.jsx)("p",{children:Object(p.jsx)(c.a,{id:"instructions.fill-in.p",defaultMessage:"Fill-in each template with the family records. Check here if you have doubts."})})]}),Object(p.jsx)(b,{ref:a}),Object(p.jsxs)("div",{className:"instruction-box",children:[Object(p.jsx)("h3",{children:Object(p.jsx)(c.a,{id:"instructions.collect.h3",defaultMessage:"Collect"})}),Object(p.jsx)("p",{children:Object(p.jsx)(c.a,{id:"instructions.collect.p",defaultMessage:"Collect your family file so you can visualize it anywhere. Know no one? Check this."})})]})]})]})}));var v=t(152),O=t(105),x=t.n(O);class w extends Error{constructor(e,s,t){super(e),this.literal=void 0,this.details=void 0,this.literal=s,this.details=t}}class M extends w{constructor(e){super("These don't seem to be our templates: {filenames}","dropzone.upload.invalid.filenames",{filenames:e.join(", ")})}}class y extends w{constructor(e){super("We only need our 3 templates","dropzone.upload.too.many",e)}}function z(e,s,t){const a=x.a.parse(s,{header:!0,skipEmptyLines:!0});if(a.errors.length)return console.error("CSV loading errors:",a.errors),!1;return function(e,s,t){const a=Object.keys(s[0]),i=t.filter((e=>!a.includes(e)));if(i.length){const s=`${e}: the following required columns are missing: ${i.join(", ")}`;return console.error(s),!1}return!0}(e,a.data,t[e])}const k=(e,s,t)=>{if(!e||0===e.length)return null;if(e.length+s.length>Object.keys(t).length)throw new y(e.length);!function(e,s){const t=new Set;for(const a of e)s.includes(a.name)||t.add(a.name);if(t.size>0)throw new M(Array.from(t))}(Array.from(e),Object.keys(t));const a=Array.from(e).map((e=>new Promise((s=>{const a=new FileReader;a.readAsText(e,"UTF-8"),a.onload=()=>{const i=a.result,n=z(e.name,i,t);s(n?e:null)},a.onerror=()=>{console.error("Error reading file:",e.name),s(null)}}))));Promise.all(a).then((s=>{const t=s.filter((e=>null!==e));Array.from(e).filter((e=>!t.some((s=>s.name===e.name)))).map((e=>`'${e.name}'`)).join(", ");return!t||t.length<3||t.length>3?(console.error("Wrong number of uploaded files..."),null):t}))},N=e=>{let{showMessage:s}=e;const[t,a]=Object(n.useState)([]),i=Object(n.useRef)(null),r=(()=>{const e=Object(u.a)();return e.formatMessage({id:"individuals.csv",defaultMessage:"1-individuals.csv"}),e.formatMessage({id:"parents.csv",defaultMessage:"2-parents.csv"}),e.formatMessage({id:"relationships.csv",defaultMessage:"3-relationships.csv"}),{individualsFilename:e.formatMessage({id:"individuals.file.columns",defaultMessage:"individual_id, name, surname1, surname2, nickname, gender, birth_date, birth_place, notes"}).split(", "),parentsFilename:e.formatMessage({id:"parents.file.columns",defaultMessage:"individual_id, father_id, mother_id"}).split(", "),relationshipsFilename:e.formatMessage({id:"relationships.file.columns",defaultMessage:"husband_id, wife_id, notes"}).split(", ")}})(),o=async e=>{try{if(e){const s=k(e,t,r);s&&a([...t,...s])}}catch(i){i instanceof w&&s({type:"negative",header:Object(p.jsx)(c.a,{id:i.literal,defaultMessage:i.message,values:i.details}),text:null})}};return Object(p.jsxs)("div",{className:"ui upload-container",children:[Object(p.jsxs)("div",{className:"ui dropzone",onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()},onDrop:async e=>{e.preventDefault(),await o(e.dataTransfer.files)},onDragOver:e=>e.preventDefault(),children:[Object(p.jsx)("input",{type:"file",multiple:!0,ref:i,onChange:async e=>{await o(e.target.files)},style:{display:"none"}}),Object(p.jsxs)("p",{children:[Object(p.jsx)(c.a,{id:"dropzone.p.drag-n-drop",defaultMessage:"Drag & drop here your filled assets.templates, or "}),Object(p.jsx)("span",{children:Object(p.jsx)(c.a,{id:"dropzone.p.browse-them",defaultMessage:"browse them"})})]}),Object(p.jsx)("p",{children:Object(p.jsx)(c.a,{id:"dropzone.p.files-needed",defaultMessage:"We need all the 3 files"})}),Object(p.jsxs)(v.a,{children:[Object(p.jsx)(l.a,{name:"upload"}),Object(p.jsx)(c.a,{id:"dropzone.button.browse-files",defaultMessage:"Browse files"})]})]}),Object(p.jsx)(v.a,{primary:!0,disabled:!0,children:Object(p.jsx)(c.a,{id:"dropzone.button.submit",defaultMessage:"Submit"})})]})},C=()=>{const[e,s]=Object(n.useState)(null),[t,a]=Object(n.useState)(!1),i=Object(n.useRef)(null),d=e=>{s(e),a(!0)};return Object(p.jsxs)("div",{className:"body",children:[e&&Object(p.jsx)("div",{className:"message-container "+(t?"expanded":"collapsed"),children:Object(p.jsxs)(r.a,{info:!0,positive:"positive"===e.type,negative:"negative"===e.type,onDismiss:()=>s(null),children:[Object(p.jsx)(r.a.Header,{children:e.header}),Object(p.jsx)("p",{children:e.text})]})}),Object(p.jsx)(o.a,{as:"h1",children:Object(p.jsx)(c.a,{id:"header.h1",defaultMessage:"Digitalize all your genealogy records into a family file"})}),Object(p.jsxs)("p",{children:[Object(p.jsx)(c.a,{id:"header.p",defaultMessage:"It is (and will always be) free up to 50 relatives. Above 50 relatives, $0.5 per relative"}),"\xa0",Object(p.jsx)(l.a,{name:"credit card"})]}),Object(p.jsx)(g,{showMessage:d,instructionsRef:i}),Object(p.jsx)(N,{showMessage:d})]})};t(137),t(138);var S=t(106),D=t(107),_=t(108),R=t(109),A=t(150);const E={es:{...S,..._},pl:{...D,...R}},F=navigator.language&&navigator.language.split(/[-_]/)[0];i.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(A.a,{locale:F,messages:E[F],children:Object(p.jsx)(C,{})}));var $=s.default=F}},[[139,1,2]]]);
//# sourceMappingURL=main.915df9f7.chunk.js.map